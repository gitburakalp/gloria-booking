//
// Component: Transition
//
// ========================================================================


// Variables
// ========================================================================

@transition-duration: 0.3s;

@transition-scale: 1.1;

@transition-slide-small-translate: 10px;
@transition-slide-medium-translate: 50px;

@transition-slow-duration: 0.7s;


// Miscellaneous
// ========================================================================

.hook-transition-misc() {

    .uk-transition-active .uk-transition-fade-inverse,
    .uk-transition-toggle .uk-transition-fade-inverse,
    .uk-transition-toggle .uk-transition-fade-inverse {
        transition: .3s ease-out;
        transition-property: opacity, transform, filter;
        will-change: opacity, transform, filter;
    }

    .uk-transition-active.uk-active .uk-transition-fade-inverse,
    .uk-transition-toggle:focus .uk-transition-fade-inverse,
    .uk-transition-toggle:hover .uk-transition-fade-inverse {
        opacity: 0;
    }

    .transition-slide-image-container {
        &::after {
            content: '';
            background-color: #fff;
            width: 0;
            height: 100%;
            position: absolute;
            top: 0;
            right: 0;
            transition: width 1.4s cubic-bezier(.34, .07, .095, .995);
            will-change: width;
        }

        .transition-slide-text {
            transform: translateX(-50%);
            transition: transform 1.4s cubic-bezier(.34, .07, .095, .995);
            will-change: transform;
        }

        &.uk-scrollspy-inview {
            &::after {
                width: 50%;
            }

            .transition-slide-text {
                transform: translateX(0);
            }
        }
    }

    .transition-slide-bottom-image-container {
        &::after {
            content: '';
            background-color: #000;
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            right: 0;
            transition: width 1.1s cubic-bezier(.34, .07, .095, .995);
            will-change: width;
        }

        .transition-slide-img {
            opacity: 0;
            transform: scale(1.1);
            transform-origin: center;
            transition: all 1.7s cubic-bezier(.34, .07, .095, .995);
            will-change: transform, opacity;
        }

        &.uk-scrollspy-inview {
            &::after {
                width: 0;
            }

            .transition-slide-img {
                opacity: 1;
                transform: scale(1);
            }
        }
    }

    .transition-slide-left-text-container {
        .transition-slide-text {
            clip-path: polygon(0 100%, 100% 100%, 100% 100%, 0 100%);
            transition: clip-path 1s cubic-bezier(.34, .07, .095, .995), -webkit-clip-path 1s cubic-bezier(.34, .07, .095, .995);
            will-change: clip-path;
        }

        &.uk-scrollspy-inview {
            .transition-slide-text {
                clip-path: polygon(0 100%, 100% 100%, 100% 0, 0 0);
            }
        }
    }

    .uk-overlay-virtual-tour {
        + img {
            transform-origin: center bottom;
            transition: transform 1.7s cubic-bezier(.34, .07, .095, .995);
            will-change: transform;
        }

        &:hover {
            + img {
                transform: scale(1.3) translateY(20%);
            }
        }
    }

    .transition-scale-down {
        img {
            opacity: 0;
            transform: scale(1.2);
            transition: all .6s ease;
            will-change: transform, opacity;
        }

        &.uk-scrollspy-inview {
            img {
                opacity: 1;
                transform: scale(1);
            }
        }
    }

    .transition-scale-down-single {
        opacity: 0;
        transform: scale(1.2);
        transition: all .6s ease;
        will-change: transform, opacity;

        &.uk-scrollspy-inview {
            opacity: 1;
            transform: scale(1);
        }
    }

    .transition-scale-down-slow {
        img {
            opacity: 0;
            transform: scale(1.08);
            transition: opacity .9s, transform 1.2s cubic-bezier(0.215, 0.610, 0.355, 1.000);
            will-change: transform, opacity;
        }

        &.uk-scrollspy-inview {
            img {
                opacity: 1;
                transform: scale(1);
            }
        }
    }

    .uk-slider-items {
        > * {

            .animation-slide-left {
                transition: transform .5s cubic-bezier(.34, .07, .095, .995);
                will-change: transform;
            }

            &:first-child {
                .animation-slide-left {
                    transform: translateX(250%);
                }
            }

            &:nth-child(2) {
                .animation-slide-left {
                    transform: translateX(150%);
                    transition-delay: .2s;
                    will-change: transform;
                }
            }

            &:nth-child(3) {
                .animation-slide-left {
                    transform: translateX(50%);
                    transition-delay: .4s;
                    will-change: transform;
                }
            }
        }

        &.uk-scrollspy-inview {
            > * {
                .animation-slide-left {
                    transform: translateX(0);
                }
            }
        }
    }

    .card-full-image,
    .card-full-image-container {
        opacity: 0;
        visibility: hidden;
        transition: .3s;

        &.uk-active {
            opacity: 1;
            visibility: visible;
        }
    }

    .card-full-image-container {
        .card-container {
            &::before {
                content: '';
                background-color: @global-background;
                width: 15px;
                position: absolute;
                top: 0;
                bottom: 0;
                left: -15px;
            }
        }

        img {
            opacity: 0;
        }
    }

    .parallax-transition {
        transition: .1s;
    }

    @media (max-width: 959px) {
        .transition-slide-image-container {
            display: flex;
            align-items: flex-start;
            flex-direction: column;

            img {
                margin-top: 50px;
            }

            .uk-position-cover {
                position: static;
            }

            &::after {
                display: none;
            }
        }
    }
}